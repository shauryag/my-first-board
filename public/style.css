:root{
  --border:#d1d5db;
  --border-bold:#9ca3af;
  --bg:#f8fafc;
  --text:#111827;
  --muted:#6b7280;
}

*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial; color:var(--text); background:linear-gradient(180deg,#f3f4f6 0,#fff 30%); }

.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:2px solid var(--border-bold); background:#fff; position:sticky; top:0; z-index:5;
}
.app-header h1{ margin:0; font-size:24px; font-weight:800; }
.nav{ display:flex; align-items:center; gap:10px; }
.month-label{ font-weight:600; padding:6px 10px; }

.btn{
  border:1px solid var(--border-bold); background:#fff; padding:6px 10px; border-radius:8px; cursor:pointer;
}
.btn:hover{ background:#f3f4f6; }
.btn-light{ background:#f3f4f6; }
.btn-primary{ background:#2563eb; border-color:#2563eb; color:#fff; }
.btn-primary:hover{ filter:brightness(0.95); }
.btn-danger{ background:#dc2626; border-color:#dc2626; color:#fff; }
.btn-danger:hover{ filter:brightness(0.95); }

.weekdays{
  display:grid; grid-template-columns:repeat(7,1fr);
  gap:0; border-bottom:2px solid var(--border-bold);
  background:#fff; position:sticky; top:66px; z-index:4;
}
.weekdays div{
  padding:10px; text-align:center; font-weight:700; color:#374151; border-left:1px solid var(--border);
}
.weekdays div:first-child{ border-left:none; }

.grid{
  display:grid; grid-template-rows:repeat(2,1fr); gap:0;
  border-left:2px solid var(--border-bold); border-right:2px solid var(--border-bold); border-bottom:2px solid var(--border-bold);
  background:#fff; min-height:360px;
}
.grid-row{ display:grid; grid-template-columns:repeat(7,1fr); }
.cell{
  min-height:150px; padding:10px; border-top:1px solid var(--border); border-left:1px solid var(--border);
  cursor:pointer; transition:box-shadow .12s ease, background .12s ease;
}
.grid-row .cell:nth-child(7){ border-right:1px solid var(--border); }
.grid-row:first-child .cell{ border-top:1px solid var(--border); }
.cell:hover{ box-shadow:inset 0 0 0 2px var(--border-bold); }
.cell .cell-head{ display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:6px; }
.cell .date{ font-weight:700; font-size:13px; }
.cell .weekday{ font-size:11px; color:var(--muted); }
.cell .tag{ font-size:11px; padding:2px 6px; border-radius:999px; border:1px solid var(--border); color:#374151; background:#f9fafb; }
.cell .preview{ font-size:14px; color:#374151; white-space:pre-wrap; word-break:break-word; max-height:74px; overflow:hidden; }

.special{ padding:18px 16px 40px; }
.special h2{ margin:16px 0 10px; }
.special-card{
  border:2px solid var(--border-bold); border-radius:10px; min-height:170px; background:#fff; padding:12px;
  transition:box-shadow .12s ease; cursor:pointer;
}
.special-card:hover{ box-shadow:0 1px 0 rgba(0,0,0,.06), inset 0 0 0 2px var(--border-bold); }
.special-preview{ color:#374151; white-space:pre-wrap; }

.modal-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.4); display:flex; align-items:center; justify-content:center; padding:16px;
}
.modal{
  background:#fff; border-radius:12px; width:min(880px,96vw); padding:16px; border:1px solid var(--border-bold);
}
.modal-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.modal-date{ font-weight:800; }
.modal-day{ color:var(--muted); font-size:13px; }
.lbl{ display:block; font-size:13px; color:#374151; margin:10px 0 6px; }
.input{ width:100%; border:1px solid var(--border); border-radius:8px; padding:10px; font:inherit; }
.hint{ color:var(--muted); font-size:12px; margin-left:auto; }
.row{ display:flex; align-items:center; gap:10px; margin:10px 0; }
.modal-actions{ display:flex; justify-content:flex-end; gap:10px; margin-top:12px; }

.toast{
  position:fixed; bottom:16px; left:50%; transform:translateX(-50%);
  background:#111827; color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 8px 24px rgba(0,0,0,.2);
}

.tag-homework {
  background-color: rgba(255, 223, 186, 0.5);
}
.tag-test {
  background-color: rgba(186, 255, 201, 0.5);
}
.tag-exam {
  background-color: rgba(255, 186, 186, 0.5);
}
